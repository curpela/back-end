# Migration `20191220145642`

This migration has been generated by Skyelar Carroll at 12/20/2019, 2:56:42 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Follower" (
  "follower" text NOT NULL  REFERENCES "public"."User"("id") ON DELETE RESTRICT,
  "following" text NOT NULL  REFERENCES "public"."User"("id") ON DELETE RESTRICT,
  "id" text NOT NULL  ,
  PRIMARY KEY ("id")
);
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20191219022125..20191220145642
--- datamodel.dml
+++ datamodel.dml
@@ -1,19 +1,19 @@
 datasource postgresql {
     provider = "postgresql"
-    url = "***"
+    url      = env("DB_URL")
 }
 generator photon {
     provider = "photonjs"
 }
 model User {
-    id             String   @default(cuid()) @id
-    createdAt      DateTime @default(now())
-    updatedAt      DateTime @updatedAt
-    email          String   @unique
-    username       String   @unique
+    id             String     @default(cuid()) @id
+    createdAt      DateTime   @default(now())
+    updatedAt      DateTime   @updatedAt
+    email          String     @unique
+    username       String     @unique
     password       String
     firstName      String
     lastName       String
     state          String?
@@ -24,8 +24,10 @@
     country        String?
     phoneNumber    Int?
     profilePicture String?
     posts          Post[]
+    followers      Follower[] @relation(name: "UserFollowers")
+    following      Follower[] @relation(name: "UserFollowing")
 }
 model Post {
     id        String   @default(cuid()) @id
@@ -43,4 +45,10 @@
     contentType String
     size        Int?
     length      Float?
 }
+
+model Follower {
+    id        String @default(cuid()) @id
+    following User   @relation(name: "UserFollowers")
+    follower  User   @relation(name: "UserFollowing")
+}
```


